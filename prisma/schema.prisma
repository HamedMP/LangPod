//////////////////////////////////////////////////////////////////////////////////////////////
// DO NOT MODIFY THIS FILE                                                                  //
// This file is automatically generated by ZenStack CLI and should not be manually updated. //
//////////////////////////////////////////////////////////////////////////////////////////////

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id               String       @id() @default(uuid())
  clerkId          String       @unique()
  targetLanguage   String
  proficiencyLevel String
  learningGoals    String[]
  createdAt        DateTime     @default(now())
  progress         Progress[]
  vocabulary       Vocabulary[]
  lessons          Lesson[]
}

model Lesson {
  id                 String     @id() @default(uuid())
  title              String
  scenarioContext    String
  difficultyLevel    String
  conversationScript Json
  vocabulary         Json
  grammarPoints      Json?
  createdAt          DateTime   @default(now())
  user               User       @relation(fields: [userId], references: [id])
  userId             String
  progress           Progress[]
}

model Progress {
  id               String   @id() @default(uuid())
  completionStatus String
  timeSpent        Int
  createdAt        DateTime @default(now())
  user             User     @relation(fields: [userId], references: [id])
  userId           String
  lesson           Lesson   @relation(fields: [lessonId], references: [id])
  lessonId         String
}

model Vocabulary {
  id           String    @id() @default(uuid())
  word         String
  translation  String
  masteryLevel Int       @default(0)
  lastReviewed DateTime?
  user         User      @relation(fields: [userId], references: [id])
  userId       String
}
